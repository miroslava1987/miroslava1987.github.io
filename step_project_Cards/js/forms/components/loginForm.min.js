import Input from"./input.js";import{Element}from"../components/index.js";import{login}from"../../ajax/ajax.js";import{CreateBtn,EnterBtn}from"../components/buttons.js";class LoginForm extends Input{loginProps={tag:"input",type:"email",placeholder:"Введите логин",required:!0};passwordProps={tag:"input",type:"password",placeholder:"Введите пароль",required:!0};submitProps={tag:"button",type:"submit",content:"Войти",class:"enter-window__form-btn"};render(e={}){const t=this.createElement("form",e),{loginProps:n,passwordProps:o,submitProps:r}=this;return t.append(new Input(n).render(),new Input(o).render(),new Element(r).render()),t.addEventListener("submit",(async function(e){if(e.preventDefault(),await login(),sessionStorage.getItem("token")){const e=this.closest(".modal");e.style.display="none",e.querySelector(".modal-window").remove(),EnterBtn.replaceWith(CreateBtn),window.location.reload()}document.body.classList.remove("scroll-hidden")})),t}}export default LoginForm;