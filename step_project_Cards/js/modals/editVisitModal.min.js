import{Element}from"../forms/components/index.js";import Modal from"./modal.js";import renderCards from"../script.js";import{editVisitOnBase}from"../ajax/ajax.js";class EditVisitModal extends Modal{title={tag:"h3",class:"modal-title",content:"Изменить визит"};render(e){const{title:t}=this,s=super.render();return s.append(new Element(t).render()),s.classList.add("visit-modal"),s.addEventListener("submit",(async function(t){document.body.classList.remove("scroll-hidden"),t.preventDefault();let s={};s.doctor=e.doctor,this.querySelectorAll("input, textarea, select").forEach(e=>{s[e.name]=e.value}),this.closest("#create-modal-window").style.display="none",this.remove();const d=await editVisitOnBase(e.id,s);document.getElementById(""+e.id).remove(),renderCards(d.data)})),s}}export default EditVisitModal;